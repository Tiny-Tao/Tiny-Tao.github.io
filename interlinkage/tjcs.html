<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script>
window.onload=function(){
	var oSpan=document.getElementById('sp');
	var oTxt=document.getElementById('txt');
	var timer=null;
	if(window.navigator.userAgent.indexOf('MSIE 9.0') !=-1)
	{
		oTxt.onfocus=function(){
			timer=setInterval(function(){
				oSpan.innerHTML=oTxt.value.length;
			},30);	
		};
		oTxt.onblur=function(){
			clearInterval(timer);	
		};
	}else{
		oTxt.onpropertychange=oTxt.oninput=function(){
			oSpan.innerHTML=oTxt.value.length;	
		};	
	}
};
</script>
</head>

<body>
<span id="sp">0</span>
<textarea id="txt"></textarea>
</body>
</html>
